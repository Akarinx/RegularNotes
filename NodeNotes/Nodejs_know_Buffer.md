# 理解Buffer
需要处理大量二进制数据，JavaScript自有的字符串远远不能满足需求，于是有了Buffer。<br>
### Buffer 结构
Buffer是一个像Array的对象，但它主要用于操作字节。下面我们从模块结构和对象结构的层面来认识它。<br>
#### 模块结构
Buffer是一个典型的Javascript与C++结合的模块，它将性能相关部分用C++实现，将非性能相关的部分用JavaScript实现
如图

**Buffer所占用的内存不是通过V8分配的，属于堆外内存。** 由于V8垃圾回收性能的影响，将常用的操作对象用更高效和专有的内存分配回收策略来管理是个不错的思路。<br>
Buffer在Node进程启动时就已经加载了，所以无需通过require()即可直接使用。<br>
##### Buffer 对象
Buffer对象类似数组，它的元素为16进制的两位数，即0-255的数值。
```js
var str = "node";
var buf = new Buffer(str,'utf-8');
console.log(buf);
buf.length;
buf[0]; // 元素值是一个0-255的随机值
buf[1] = 100; // 如果给元素赋值小于0，就将该值逐次加256，直到得到一个0-255之间的整数。如果大于就逐次减256，直到得到一个0-255之间的整数。如果是小数，就舍弃小数部分，只保留整数部分。
```
<Buffer 6e 6f 64 65>
不同编码的字符串占用的元素个数各不相同。<br>
Buffer受Array类型的影响很大，可以访问length属性获得长度。亦可以通过下标访问刚刚初始化的Buffer元素<br>
##### Buffer内存分配
